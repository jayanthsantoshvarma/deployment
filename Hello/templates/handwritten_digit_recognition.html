<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hand Written Digit Recognition | Model</title>

    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>

    <script>
        function displayImage(event) {
            let reader = new FileReader();
            reader.onload = function(){
                let output = document.getElementById('uploaded-image');
                output.src = reader.result;
                let predictButton = document.getElementById("predict-btn");
                predictButton.classList.toggle("d-none")
                predictButton.classList.toggle("text-right")
            };
            reader.readAsDataURL(event.target.files[0]);
        }
        
        let spinnerElmt = document.getElementById("spinner")
        
        let startPredicting = () => {
            spinnerElmt.classList.toggle("spinner")
        }
    </script>
</head>
<body>
    <div class="d-flex flex-column justify-content center align-items-center">
        <h3>Welcome</h3>
        <p>Am Very Glad To Know That You Have Come Here To Try Out , Weather The hand Written Recognition Model is Able to recognize your hand writen digit.</p>
        
        <h4>Please Upload The Handwriten Digit Image Below :)</h4>
        <form method="post" enctype="multipart/form-data">
            <input class="btn" type="file" name="imageUpload" accept="image/*" onchange="displayImage(event)">
            <br>
            <div class="d-flex flex-column justify-content center align-items-center">
                <img id="uploaded-image" src="#" alt="" style="max-width: 300px;">
                <div class="mt-3">
                    <button id="predict-btn" type="submit" class="btn btn-secondary d-none" onclick="startPredicting()">Predict</button>
                </div>
            </div>
            <div id="spinner" class="spinner-border text-primary d-none" role="status">
                <span class="visually-hidden">Predicting...</span>
            </div>
            <div class="">
                <p>Predicted Output: <b><span id="predicted_output">{{ context }}</span></b></p>
            </div>
        </form>
    </div>
</body>
</html>